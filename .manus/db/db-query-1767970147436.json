{
  "query": "SELECT g.id, g.userId, u.name, u.email, u.role,\n       (SELECT COUNT(*) FROM relatorios_livres WHERE gestorId = g.id) as rel_livres,\n       (SELECT COUNT(*) FROM relatorios_completos WHERE gestorId = g.id) as rel_completos\nFROM gestores g\nLEFT JOIN users u ON g.userId = u.id\nHAVING rel_livres > 0 OR rel_completos > 0\nORDER BY rel_livres DESC\nLIMIT 10",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 2rEtBRZHWZUfGJS.3b07a01772f8 --database 3c9MozLH35e233uWy5WDtH --execute SELECT g.id, g.userId, u.name, u.email, u.role,\n       (SELECT COUNT(*) FROM relatorios_livres WHERE gestorId = g.id) as rel_livres,\n       (SELECT COUNT(*) FROM relatorios_completos WHERE gestorId = g.id) as rel_completos\nFROM gestores g\nLEFT JOIN users u ON g.userId = u.id\nHAVING rel_livres > 0 OR rel_completos > 0\nORDER BY rel_livres DESC\nLIMIT 10",
  "rows": [
    {
      "id": "750002",
      "userId": "7410263",
      "name": "Admin Comentarios Test",
      "email": "admin.comentarios@test.com",
      "role": "admin",
      "rel_livres": "50",
      "rel_completos": "33"
    },
    {
      "id": "750003",
      "userId": "7410264",
      "name": "Admin Teste",
      "email": "admin@test.com",
      "role": "admin",
      "rel_livres": "48",
      "rel_completos": "16"
    },
    {
      "id": "240001",
      "userId": "4020003",
      "name": "NULL",
      "email": "NULL",
      "role": "NULL",
      "rel_livres": "28",
      "rel_completos": "10"
    },
    {
      "id": "300001",
      "userId": "4080004",
      "name": "NULL",
      "email": "NULL",
      "role": "NULL",
      "rel_livres": "25",
      "rel_completos": "17"
    },
    {
      "id": "750001",
      "userId": "7410262",
      "name": "Admin Email Test",
      "email": "admin.email@test.com",
      "role": "admin",
      "rel_livres": "17",
      "rel_completos": "16"
    },
    {
      "id": "30001",
      "userId": "420030",
      "name": "Marco Amorim",
      "email": "mamorim@expressglass.pt",
      "role": "gestor",
      "rel_livres": "15",
      "rel_completos": "6"
    },
    {
      "id": "750015",
      "userId": "7410274",
      "name": "Admin Lojas Test",
      "email": "admin.lojas@test.com",
      "role": "admin",
      "rel_livres": "13",
      "rel_completos": "0"
    },
    {
      "id": "270001",
      "userId": "4050001",
      "name": "NULL",
      "email": "NULL",
      "role": "NULL",
      "rel_livres": "9",
      "rel_completos": "8"
    },
    {
      "id": "1080011",
      "userId": "7410271",
      "name": "Gestor Multi-Lojas Test",
      "email": "gestor.multilojas@test.com",
      "role": "gestor",
      "rel_livres": "6",
      "rel_completos": "1"
    },
    {
      "id": "300005",
      "userId": "4080052",
      "name": "NULL",
      "email": "NULL",
      "role": "NULL",
      "rel_livres": "6",
      "rel_completos": "0"
    }
  ],
  "messages": [],
  "stdout": "id\tuserId\tname\temail\trole\trel_livres\trel_completos\n750002\t7410263\tAdmin Comentarios Test\tadmin.comentarios@test.com\tadmin\t50\t33\n750003\t7410264\tAdmin Teste\tadmin@test.com\tadmin\t48\t16\n240001\t4020003\tNULL\tNULL\tNULL\t28\t10\n300001\t4080004\tNULL\tNULL\tNULL\t25\t17\n750001\t7410262\tAdmin Email Test\tadmin.email@test.com\tadmin\t17\t16\n30001\t420030\tMarco Amorim\tmamorim@expressglass.pt\tgestor\t15\t6\n750015\t7410274\tAdmin Lojas Test\tadmin.lojas@test.com\tadmin\t13\t0\n270001\t4050001\tNULL\tNULL\tNULL\t9\t8\n1080011\t7410271\tGestor Multi-Lojas Test\tgestor.multilojas@test.com\tgestor\t6\t1\n300005\t4080052\tNULL\tNULL\tNULL\t6\t0\n",
  "stderr": "",
  "execution_time_ms": 395
}